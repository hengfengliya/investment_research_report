# 数据库连接字符串（PostgreSQL）。建议使用 Neon Serverless，务必开启 sslmode=require。
# 示例：postgresql://<username>:<password>@<host>:5432/<database>?sslmode=require
DATABASE_URL=postgresql://username:password@hostname:5432/database?sslmode=require

# 触发 /api/sync 时需要提供的密钥，防止未授权访问
SYNC_SECRET=please-change-me

# 后端 API 基础地址（前端构建时会写入）。
# - 本地开发： http://localhost:3000/api
# - 线上部署： https://<your-vercel-app>.vercel.app/api
VITE_API_BASE_URL=http://localhost:3000/api

# 以下为爬虫配置：基于日期范围的策略
# 抓取最近多少天的全部报告数据（无数量限制）
# 示例：SYNC_LOOKBACK_DAYS=2 表示抓取最近两天（今天+昨天）的所有报告；
#       SYNC_LOOKBACK_DAYS=30 表示抓取最近30天；
#       翻页逻辑：直到获取的最早日期超出时间范围为止。
SYNC_LOOKBACK_DAYS=2

# 列表页单次拉取条数（内部固定为40，一般无需改动）
SYNC_PAGE_SIZE=40

# 并发控制：同时发起多少个详情页请求（建议 6-8，过高会被限流）
SYNC_CONCURRENCY=8

# 时区与入库时间说明：
# - 研报发布日期（date）：统一转换为“当日的 UTC 午夜”（如 2025-10-30T00:00:00Z），避免跨区混乱；
# - 入库时间（createdAt）：插入时以“北京时间（UTC+8）”写入，满足“抓取入库时间=中国区年月日时分秒”。
#   无需额外配置时区环境变量，逻辑已在代码中内置实现。
