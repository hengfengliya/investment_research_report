# UI 重设计验收清单

## 🧪 本地开发测试

### 启动项目
```bash
cd frontend
npm install  # 如果还未安装新依赖
npm run dev
# 访问 http://localhost:5173
```

---

## ✅ 测试清单

### 1. 导航栏 (App.tsx)
- [ ] 导航栏为白底 + 分隔线（非重底色）
- [ ] Logo "有物投研" 可点击返回首页
- [ ] 当前路由下方显示细橙色线条
- [ ] 导航栏 sticky 定位，滚动时保持在顶部
- [ ] 移动端菜单布局合理

### 2. 筛选条件区 (FilterBar)
- [ ] 第一层显示：关键词输入 + 报告类型 + 排序 + 按钮
- [ ] 关键词输入框支持清空按钮（输入内容时出现）
- [ ] 关键词输入支持 300ms 防抖搜索
- [ ] "应用筛选"按钮为橙色（主操作）
- [ ] "重置条件"按钮为灰白描边（次操作）
- [ ] "更多筛选"按钮显示已应用条件计数（如"+2"）
- [ ] 点击"更多筛选"展开机构、作者、日期选项
- [ ] 更多筛选区显示分隔线
- [ ] 移动端筛选区单列显示

### 3. 分类统计卡片 (CategorySummary)
- [ ] 显示 4 张卡片（策略/宏观/行业/个股）
- [ ] 每张卡片白底 + 分隔线 + 轻阴影
- [ ] 数字加粗显示，颜色为品牌橙
- [ ] Hover 时阴影增加（hover:shadow-md）
- [ ] 响应式：md:2列、lg:4列

### 4. 研报卡片列表 (ReportCard)
- [ ] 顶部显示分类标签（如"策略"、"宏观"等）
- [ ] 标题为 2 行裁切（line-clamp-2）
- [ ] 关键词高亮使用前景色 + 浅背景（无底色铺满）
- [ ] 标签组显示多个标签（评级、个股、目标价、影响力等）
- [ ] 元信息行：发布日期 · 机构 · 作者
- [ ] 摘要为 2 行裁切，关键词高亮
- [ ] 主题标签显示前 3 个 + "+N" 显示剩余数量
- [ ] 底部操作按钮：查看详情（橙）、下载 PDF（灰）、查看原文（幽灵）
- [ ] Hover 时卡片微抬起 + 阴影增加
- [ ] 卡片间距均匀（space-y-4）

### 5. 分页组件 (Pagination)
- [ ] 显示上一页 / 下一页按钮
- [ ] 大屏显示页码导航（1 ... 3 4 5 ... 10）
- [ ] 当前页码为橙色背景 + 白色文字
- [ ] 禁用态按钮显示灰色 + 光标不可点击
- [ ] 快速跳转输入框 + 前往按钮
- [ ] "每页显示"下拉选择（10/20/50）
- [ ] 移动端仅显示上/下页 + 文本

### 6. 加载状态 (SkeletonLoader)
- [ ] 显示多个骨架卡片（脉冲动画）
- [ ] 骨架包含标题、标签、元信息、摘要等占位符
- [ ] 动画流畅（animate-pulse）

### 7. 空态 (EmptyState)
- [ ] 显示空态图标
- [ ] 文案为"暂无符合条件的研报"
- [ ] 显示引导文案
- [ ] 有"重置筛选"操作按钮

### 8. 错误态 (ErrorState)
- [ ] 显示红色错误图标
- [ ] 显示错误标题 + 详细信息
- [ ] 有"重试"按钮或操作链接

### 9. 详情页 (ReportDetail)
- [ ] 返回列表链接在顶部（蓝色）
- [ ] 标题为大号加粗
- [ ] 基本信息（发布日期 · 机构 · 作者）
- [ ] 分类标签 + 评级标签 + 影响力标签等
- [ ] 摘要部分完整显示
- [ ] 下载 PDF + 查看原文按钮
- [ ] 主题标签列表完整展示
- [ ] 所有卡片统一使用新 Card 组件

### 10. 设计令牌一致性
- [ ] 所有文字使用正确的 text-text-primary/secondary/tertiary
- [ ] 所有边框使用 border-border-default
- [ ] 所有背景使用 bg-bg-primary（页面）或 bg-bg-secondary（卡片）
- [ ] 所有主按钮使用 bg-brand-500
- [ ] Hover 状态使用 bg-brand-600
- [ ] 所有卡片圆角为 rounded-md（12px）
- [ ] 所有按钮/输入圆角为 rounded-sm（8px）

### 11. 响应式设计
- [ ] **移动端（< 640px）：**
  - 筛选区单列布局
  - 分类卡片单列或双列
  - 分页仅显示上/下页

- [ ] **平板（640–1024px）：**
  - 筛选区双行布局
  - 分类卡片双列
  - 分页显示上/下页 + 文本

- [ ] **桌面（≥ 1024px）：**
  - 筛选区完整横排
  - 分类卡片四列
  - 分页显示完整页码导航

### 12. 交互体验
- [ ] 所有可点击元素有明确 hover 状态
- [ ] focus 状态显示品牌橙色焦点环
- [ ] 键盘 Tab 键可访问所有交互元素
- [ ] 按钮点击有视觉反馈
- [ ] 加载状态下不能重复提交
- [ ] 页码切换时平滑滚动到顶部

### 13. 文案与编码
- [ ] 所有中文文案清晰、无乱码
- [ ] 按钮文案为动词（"应用筛选"、"重置条件"等）
- [ ] 错误信息清晰易懂
- [ ] 标签显示正确（"策略"、"宏观"等）
- [ ] 日期格式统一（YYYY-MM-DD）

### 14. 性能检查
- [ ] 页面加载速度 < 2s（Lighthouse）
- [ ] 无控制台错误（F12 Console）
- [ ] 无 TypeScript 错误（运行 npm run build）
- [ ] 卡片列表滚动流畅（无卡顿）

---

## 🎯 测试场景

### 场景 1：正常浏览
1. 打开首页
2. 查看分类统计卡片
3. 查看研报列表（骨架屏 → 卡片）
4. 点击研报卡片进入详情页
5. 返回列表

### 场景 2：搜索与筛选
1. 在关键词输入框输入"新能源"
2. 等待 300ms 防抖搜索
3. 查看搜索结果（列表更新）
4. 点击"更多筛选"展开高级选项
5. 选择发布时间、机构、作者
6. 点击"应用筛选"
7. 查看筛选结果

### 场景 3：分页导航
1. 进入第 2 页（点击分页按钮）
2. 页面滚动到顶部
3. 快速跳转到第 5 页
4. 更改每页显示条数（10 → 20）
5. 查看列表重新加载

### 场景 4：错误处理
1. 打开浏览器开发者工具
2. Network 中禁用网络
3. 刷新页面
4. 查看错误态展示
5. 点击"重试"按钮
6. 恢复网络

### 场景 5：移动端体验
1. 打开开发者工具 (F12)
2. 切换到移动端视图 (iPhone SE 375px)
3. 查看筛选区布局
4. 查看分类卡片布局
5. 查看分页布局
6. 测试 tab 键导航

---

## 🐛 常见问题排查

| 问题 | 排查步骤 |
|-----|--------|
| 样式未生效 | 清除缓存（Ctrl+Shift+Del）、重启开发服务器 |
| 组件找不到 | 检查导入路径是否正确（使用 @components）|
| TypeScript 错误 | 运行 `npm run build`，查看详细错误 |
| Tailwind 类名未应用 | 检查 tailwind.config.ts 中的 content 配置 |
| 颜色不对 | 检查是否使用了新的颜色变量（text-text-primary 等）|

---

## 📊 测试报告模板

```markdown
## UI 重设计验收报告

**测试日期：** YYYY-MM-DD
**测试环境：** Chrome XX、Firefox XX、Safari XX
**总体评分：** __ / 100

### 通过项目
- [ ] 导航栏设计
- [ ] 筛选条件区
- [ ] 研报卡片列表
- [ ] ...

### 发现问题
1. **问题描述**：
   **影响程度**：高/中/低
   **修复建议**：

### 优化建议
1. ...

### 签字确认
- 测试人员：
- 日期：
```

---

## 🚀 上线前检查清单

- [ ] 所有测试用例通过
- [ ] 无 TypeScript 错误（npm run build 成功）
- [ ] 无控制台 console.error
- [ ] Lighthouse 性能评分 > 80
- [ ] 移动端适配完美
- [ ] 深色模式测试（如有）
- [ ] 跨浏览器测试（Chrome、Firefox、Safari、Edge）
- [ ] 无 CORS 错误
- [ ] 数据库连接正常
- [ ] 环境变量配置完整

---

**预期完成时间：** 1-2 小时
**建议开始时间：** 开发完成后立即测试
